<ion-content>
    <div class="content-wrapper">
        <div id="goal-wrapper">
            <div class="label" *ngIf="!gameInProgress">
                <div class="text">{{ 'HIT' }}</div>
                <div class="animated-arrow">&#x27a1;</div>
            </div>
            <div class="target" [ngStyle]="{'background': getGame().targetBox.color}"></div>
        </div>
        <div id="game-wrapper" class="level-{{ getLevelClassSuffix() }}">
            <div class="game">
                <box *ngFor="let box of getGame().boxList" [box]="box" [target]="getGame().targetBox" (onBoxTap)="boxWasTapped(box)" [ngClass]="{'invisible': !gameInProgress, 'on-top': box.isHit}"></box>
            </div>
        </div>
    </div>

    <div class="countdown-wrapper" *ngIf="gameInProgress">
        <div [ngStyle]="{width: timer.percentage + '%'}"></div>
    </div>
    <ready-set-go *ngIf="readySetGo" [targetBox]="getGame().targetBox" (countdownFinished)="startGame()"></ready-set-go>
    <final-result *ngIf="finalResult" [scoreModel]="score" (replayClick)="replayTheGame()"></final-result>
</ion-content>
